---
import '../styles/about.css';

export interface Props {
  className?: string;
}

const { className = "" } = Astro.props;

// Capacit√©s de production (grid horizontal am√©lior√©)
const productionCapacities = [
  {
    icon: 'üìè',
    title: 'Volume maximum',
    value: '< 100L',
    description: 'Par brassin'
  },
  {
    icon: '‚è±Ô∏è',
    title: 'D√©lai',
    value: '2-8 sem.',
    description: 'Selon style'
  },
  {
    icon: 'üç∫',
    title: 'Conditionnement',
    value: 'F√ªts 5 Gal',
    description: '& bouteilles 75cl'
  },
  {
    icon: 'üéØ',
    title: 'Stock',
    value: '0 permanent',
    description: 'Production √† la demande'
  }
];

// Valeurs et philosophie
const breweryValues = [
  {
    title: 'Artisanal',
    description: 'Chaque brassin est unique, cr√©√© avec passion et pr√©cision selon vos go√ªts'
  },
  {
    title: 'Local',
    description: 'Production en Nouvelle-Aquitaine avec des ingr√©dients de qualit√©'
  },
  {
    title: 'Sur-Mesure',
    description: 'Brassins personnalis√©s selon vos pr√©f√©rences et √©v√©nements'
  }
];
---

<section id="about" class={`about-section ${className}`} aria-labelledby="about-title">
  <div class="about-container">
    
    <!-- En-t√™te -->
    <div class="about-header">
      <h2 id="about-title" class="about-title">La Brasserie</h2>
      <p class="about-intro">
        L'√âcole du B√©lier est une <strong>femto-brasserie artisanale</strong> bas√©e en Nouvelle-Aquitaine, 
        sp√©cialis√©e dans la cr√©ation de bi√®res d'exception en petits lots.
      </p>
    </div>

    <!-- Philosophie -->
    <div class="about-philosophy">
      <div class="philosophy-content">
        <h3 class="philosophy-title">Notre Philosophie</h3>
        <blockquote class="philosophy-quote">
          "Brasser des petits lots de qualit√© exceptionnelle, 
          <strong>jamais plus de 100L par brassin ou en stock.</strong> 
          Chaque bi√®re raconte une histoire unique."
        </blockquote>
        
        <div class="philosophy-text">
          <p>
            Contrairement aux brasseries industrielles, nous privil√©gions la <strong>qualit√© √† la quantit√©</strong>. 
            Notre approche artisanale nous permet un contr√¥le total du processus, 
            de la s√©lection des mati√®res premi√®res jusqu'au conditionnement final.
          </p>
          <p>
            Que ce soit pour un √©v√©nement sp√©cial, une d√©couverte gustative ou simplement 
            le plaisir de d√©guster une bi√®re unique, chaque brassin est con√ßu sur-mesure.
          </p>
        </div>
      </div>
      
      <div class="philosophy-image">
        <div class="image-placeholder">
          <span class="placeholder-icon">üç∫</span>
          <span class="placeholder-text">Passion Artisanale</span>
        </div>
      </div>
    </div>

    <!-- Capacit√©s de production (Grid horizontal) -->
    <div class="production-section">
      <h3 class="production-title">Nos Capacit√©s</h3>
      <div class="production-grid">
        {productionCapacities.map((capacity, index) => (
          <div class="capacity-card" style={`--card-index: ${index}`}>
            <div class="capacity-icon">{capacity.icon}</div>
            <div class="capacity-content">
              <h4 class="capacity-title">{capacity.title}</h4>
              <div class="capacity-value">{capacity.value}</div>
              <p class="capacity-description">{capacity.description}</p>
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- Valeurs -->
    <div class="values-section">
      <h3 class="values-title">Nos Valeurs</h3>
      <div class="values-grid">
        {breweryValues.map((value, index) => (
          <div class="value-card" style={`--value-index: ${index}`}>
            <h4 class="value-title">{value.title}</h4>
            <p class="value-description">{value.description}</p>
          </div>
        ))}
      </div>
    </div>

    <!-- CTA vers √©quipement (lien discret) -->
    <div class="about-cta">
      <p class="cta-text">
        Curieux de d√©couvrir notre processus de brassage artisanal ?
      </p>
      <a href="#process" class="cta-button">
        <span>Voir Notre Processus</span>
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M8 1l7 7-7 7M15 8H1" stroke="currentColor" stroke-width="2"/>
        </svg>
      </a>
    </div>

  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Animation d'entr√©e des √©l√©ments
    const aboutElements = document.querySelectorAll('.capacity-card, .value-card');
    
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };
    
    const aboutObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-in');
        }
      });
    }, observerOptions);
    
    aboutElements.forEach(element => {
      aboutObserver.observe(element);
    });
    
    // CTA smooth scroll
    const ctaButton = document.querySelector('.cta-button');
    ctaButton?.addEventListener('click', (e) => {
      e.preventDefault();
      const target = document.querySelector('#process');
      if (target) {
        target.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });
</script>
